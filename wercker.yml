box: flenter/android
build:
  steps:
    - script:
        name: update sdk
        code: |
          cd $ANDROID_HOME
          expect /pipeline/build/android-update.exp
          cd $WERCKER_SOURCE_DIR
    - script:
        name: remove local.properties
        code: |
          ls -la
    # rm local.properties
    - script:
        name: android project
        code: |
          android update project --name Hello --path ./Hello

    - script:
        name: show build folder
        code: |
          ls -la Hello/build
    - script:
        name: run gradle
        code: |
          gradle -v
          gradle --refresh-dependencies --rerun-tasks --full-stacktrace build

    - script:
        name: show build result
        code: |
          ls -la Hello/build/apk